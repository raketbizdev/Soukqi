<%= render "layouts/shared/flash" %>

<h1>Job Listings</h1>

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>Title</th>
      <th>Salary Range</th>
      <th>Location</th>
      <th>Remote</th>
      <th></th> <!-- Actions column -->
    </tr>
  </thead>
  <tbody>
    <% @job_listings.each do |job_listing| %>
      <tr>
        <td><%= job_listing.title.presence || 'No title' %></td>
        <td><%= job_listing.salary_range %></td>
        <td><%= job_listing.location %></td>
        <td><%= job_listing.remote ? "Yes" : "No" %></td>
        <td>
          <!-- Action Icons -->
          <%= link_to company_job_listing_path(@company, job_listing), class: 'btn btn-sm text-primary' do %>
            <i class="bi bi-eye"></i> <!-- Show icon -->
          <% end %>
          <%= link_to edit_company_job_listing_path(@company, job_listing), class: 'btn btn-sm text-secondary' do %>
            <i class="bi bi-pencil"></i> <!-- Edit icon -->
          <% end %>
          <%= link_to company_job_listing_path(@company, job_listing), method: :delete, data: { confirm: 'Are you sure?', turbo: false }, class: 'btn btn-sm text-danger' do %>
            <i class="bi bi-trash"></i> <!-- Delete icon -->
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<div class="mt-3">
  <%= link_to "New Job Listing", new_company_job_listing_path(@company), class: "btn btn-success" %>
</div>
